```
AWS Cloud
┌─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                                                                                                                     │
│  ┌─ Workload Spoke VPC1 (10.1.0.0/16) ─┐    ┌─ Spoke VPC1 Route Table ─┐    ┌─ Transit Gateway Subnet Route ─┐                   │
│  │                               ╭─[1]─╮│    │ CIDR         | Next hop   │    │ CIDR           | Next hop   ╭─[4]─╮               │
│  │  ┌─ AZ1 ─────────────────────┐ │ ENI ││    │ 10.1.0.0/16  | Local      │    │ 192.168.1.0/24 | Local      │ RT  │               │
│  │  │ 🔒 Private Subnet         │ │     ││    │ 0.0.0.0/0    | tgw-id     │    │ 0.0.0.0/0      | GWLBe1     ╰─────╯               │
│  │  │    10.1.0.32/28           │ │     ││    └──────────────────────────┘    │ 0.0.0.0/0      | GWLBe2                             │
│  │  │ [🔥] EC2 Instance         │ │     ││                                    └──────────────────────────────┘                     │
│  │  └───────────────────────────┘ ╰─────╯│                                                                                          │
│  │                                       │                                                                                          │
│  │  ┌─ AZ2 ─────────────────────┐       │                                                                                          │
│  │  │ 🔒 Private Subnet         │  ENI  │                                                                                          │
│  │  │    10.1.0.48/28           │       │                                                                                          │
│  │  │ [🔥] EC2 Instance         │       │                                                                                          │
│  │  └───────────────────────────┘       │                                                                                          │
│  └───────────────────────────────────────┘                                                                                          │
│                    │                                                                                                                │
│                    │ ╭─[2]─╮                                                                                                        │
│                    └─┤ TGW ├─┐                                                                                                      │
│                      ╰─────╯ │                                                                                                      │
│  ┌─ Workload Spoke VPC2 (10.2.0.0/16) ─┐ │                                                                                        │
│  │                               ╭─────╮│ │                                                                                        │
│  │  ┌─ AZ1 ─────────────────────┐ │ ENI ││ │                                                                                        │
│  │  │ 🔒 Private Subnet         │ │     ││ │                                                                                        │
│  │  │    10.2.0.32/28           │ │     ││ │                                                                                        │
│  │  │ [🔥] EC2 Instance         │ │     ││ │                                                                                        │
│  │  └───────────────────────────┘ ╰─────╯│ │                                                                                        │
│  │                                       │ │                                                                                        │
│  │  ┌─ AZ2 ─────────────────────┐       │ │                                                                                        │
│  │  │ 🔒 Private Subnet         │  ENI  │ │                                                                                        │
│  │  │    10.2.0.48/28           │       │ │                                                                                        │
│  │  │ [🔥] EC2 Instance         │       │ │                                                                                        │
│  │  └───────────────────────────┘       │ │                                                                                        │
│  └───────────────────────────────────────┘ │                                                                                        │
│                                            │                                                                                        │
│         ┌─ AWS Transit Gateway ──────────┐ │                                                                                        │
│         │  ╭─[2]─╮                       │ │                                                                                        │
│         │  │ TGW │  Spoke TGW Route      │ │                                                                                        │
│         │  ╰─────╯  ┌──────────────────┐ │ │                                                                                        │
│         │           │ CIDR  | Next hop │ │ │                                                                                        │
│         │           │ 0.0.0 | App VPC  │ │ │                                                                                        │
│         │           └──────────────────┘ │ │                                                                                        │
│         │                               │ │                                                                                        │
│         │           Appliance TGW Route │ │                                                                                        │
│         │           ┌─────────────────────┐│ │                                                                                        │
│         │           │ CIDR       | Next   ││ │                                                                                        │
│         │           │ 10.1.0/16  | VPC1   ││ │                                                                                        │
│         │           │ 10.2.0/16  | VPC2   ││ │                                                                                        │
│         │           └─────────────────────┘│ │                                                                                        │
│         └─────────────────────────────────┘ │                                                                                        │
│                            │                │                                                                                        │
│                            └────────────────┘                                                                                        │
│                                │                                                                                                     │
│                                │                                                                                                     │
│       ┌─ Appliance VPC (192.168.1.0/24) ─────────────────────────────────────────────────────────────────────────────────────┐   │
│       │                               │                                                                                       │   │
│       │  ┌─ AZ1 ──────────────────────┴────────────┐    ┌─ AZ2 ──────────────────────────────┐                               │   │
│       │  │ 🔒 Transit GW Subnet                    │    │ 🔒 Transit GW Subnet               │                               │   │
│       │  │    192.168.1.0/28               ╭─[3]─╮ │    │    192.168.1.48/28                │                               │   │
│       │  │ 🌐 Elastic Network Interface    │ ENI │ │    │ 🌐 Elastic Network Interface       │                               │   │
│       │  │                                 ╰─────╯ │    │                                    │                               │   │
│       │  │                                         │    │                                    │                               │   │
│       │  │ 🔒 Appliance Subnet                     │    │ 🔒 Appliance Subnet                │                               │   │
│       │  │    192.168.1.16/28              ╭─[5]─╮ │    │    192.168.1.64/28                │                               │   │
│       │  │ ⚖️  Gateway LB Endpoint 1        │GWLB │ │    │ ⚖️  Gateway LB Endpoint 2          │                               │   │
│       │  │    (GWLBe1)                     │ e1  │ │    │    (GWLBe2)                       │                               │   │
│       │  │                                 ╰─────╯ │    │                                    │                               │   │
│       │  │                                    │    │    │                                    │                               │   │
│       │  │ [🔥][🔥] Firewall Fleet           │    │    │           [🔥][🔥] Firewall Fleet  │                               │   │
│       │  │                            ╭─[6]─╮    │    │                            ╭─[6]─╮ │                               │   │
│       │  │                            │ FW  ├────┼────┼────────────────────────────┤ FW  │ │                               │   │
│       │  │                            ╰─────╯    │    │                            ╰─────╯ │                               │   │
│       │  │                                       │    │                                    │                               │   │
│       │  │ 🔓 Public Subnet                      │    │ 🔓 Public Subnet                   │                               │   │
│       │  │    192.168.1.x/28                     │    │    192.168.1.x/28                  │                               │   │
│       │  │ 🌐 NAT Gateway 1              ╭─[9]─╮ │    │ 🌐 NAT Gateway 2                   │                               │   │
│       │  │                               │NAT1 │ │    │                                    │                               │   │
│       │  │                               ╰─────╯ │    │                                    │                               │   │
│       │  └───────────────────────────────────────┘    └────────────────────────────────────┘                               │   │
│       │                          │                                   │                                                      │   │
│       │                          └───────────┬───────────────────────┘                                                      │   │
│       │                                      │                                                                              │   │
│       │                               ╭─[9]─╮│╭─────╮                                                                       │   │
│       │                               │ IGW ├┤│ INT │ Internet Gateway                                                      │   │
│       │                               ╰─────╯│╰─────╯                                                                       │   │
│       │                                      │                                                                              │   │
│       │  ┌─ Appliance Subnet Route Table ────┴───────────────────────────────────────────────────────╭─[7]─╮              │   │
│       │  │ CIDR            | Next hop                                                                 │ RT  │              │   │
│       │  │ 192.168.1.0/24  | Local                                                                    ╰─────╯              │   │
│       │  │ 0.0.0.0/0       | NAT Gateway 1                                                                                 │   │
│       │  │ 10.1.0.0/16     | tgw-id                                                                                        │   │
│       │  └───────────────────────────────────────────────────────────────────────────────────────────────────────────────┘   │
│       │                                                                                                                     │   │
│       │  ┌─ NAT Gateway 1 Route Table ──────────────────────────────────────────────────────────────────╭─[8]─╮           │   │
│       │  │ CIDR            | Next hop                                                                    │ RT  │           │   │
│       │  │ 192.168.1.0/24  | Local                                                                       ╰─────╯           │   │
│       │  │ 10.1.0.0/16     | GWLBe1                                                                                        │   │
│       │  │ 0.0.0.0/0       | IGW                                                                                           │   │
│       │  └───────────────────────────────────────────────────────────────────────────────────────────────────────────────┘   │
│       └─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

Legend:
[1] Elastic Network Interface - VPC1 TGW Attachment
[2] Transit Gateway Connection Point  
[3] Elastic Network Interface - Appliance VPC TGW Attachment
[4] Transit Gateway Subnet Route Table
[5] Gateway Load Balancer Endpoint 1
[6] Firewall Fleet Connection Points
[7] Appliance Subnet Route Table
[8] NAT Gateway 1 Route Table
[9] Internet Gateway & NAT Gateway

Traffic Flow Patterns:
┌─ Outbound Internet Traffic ─┐
│ VPC1/VPC2 → TGW → App VPC → │
│ Firewall → GWLB → NAT GW →  │
│ Internet Gateway → Internet │
└─────────────────────────────┘

┌─ Inter-VPC Communication ─┐
│ VPC1 ↔ TGW ↔ App VPC →   │
│ Firewall Inspection →     │
│ TGW ↔ VPC2               │
└──────────────────────────┘

Key Components:
🔒 Private Subnets (workload instances)
🔓 Public Subnets (NAT gateways)  
🔥 EC2 Instances
🌐 Network Interfaces/Gateways
⚖️ Gateway Load Balancer Endpoints
```
